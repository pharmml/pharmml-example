<?xml version="1.0" encoding="UTF-8"?>
<PharmML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="http://www.pharmml.org/2013/03/PharmML"
  xsi:schemaLocation="http://www.pharmml.org/2013/03/PharmML http://www.pharmml.org/2013/03/PharmML"
  xmlns:ct="http://www.pharmml.org/2013/03/CommonTypes"
  writtenVersion="0.3.1" id="i1">

  <ct:Name >Hamren - CPT 2008</ct:Name>
  <ct:Description >Models for Plasma Glucose, HbA1c, and Hemoglobin Interrelationships in Patients with Type 2 Diabetes Following Tesaglitazar Treatment
Authors: B Hamren, E Bjork, M Sunzel, MO Karlsson
Keywords: Diabetes, red blood cell lifespan, fasting plasma glucose</ct:Description>
  <IndependentVariable symbId="t"/>
  <ct:FunctionDefinition  symbolType="real" symbId="constantErrorModel">
    <ct:FunctionArgument symbolType="real" symbId="a"/>
    <ct:Definition>
      <ct:SymbRef symbIdRef="a"/>
    </ct:Definition>
  </ct:FunctionDefinition>

  
  <ModelDefinition xmlns="http://www.pharmml.org/2013/03/ModelDefinition">
    <VariabilityModel blkId="model" type="parameterVariability">
      <Level symbId="indiv"/>
    </VariabilityModel>
    <VariabilityModel blkId="obsErr" type="residualError">
      <Level symbId="residual"/>
    </VariabilityModel>
    <CovariateModel blkId="cov">
      <Covariate symbId="sex">
        <Categorical>
          <Category catId="1"><ct:Name>M</ct:Name></Category>        
          <Category catId="2"><ct:Name>F</ct:Name></Category>
        </Categorical>
      </Covariate>
      <Covariate symbId="treat">
        <Categorical>
          <Category catId="1"><ct:Name>N</ct:Name></Category>
          <Category catId="0"><ct:Name>Y</ct:Name></Category>
        </Categorical>
      </Covariate>
      <Covariate symbId="CL">
        <Continuous>
          <Transformation>
            <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
              <ct:SymbRef  symbIdRef="CL"/>
            </Equation>
          </Transformation>
        </Continuous>
      </Covariate>
      <Covariate symbId="V">
        <Continuous>
          <Transformation>
            <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
              <ct:SymbRef  symbIdRef="V"/>
            </Equation>
          </Transformation>
        </Continuous>
      </Covariate>
    </CovariateModel>
    <ParameterModel blkId="pm1">
      <SimpleParameter symbId="pop_FPG_baseline_N"/>
      <SimpleParameter symbId="pop_FPG_washout_N"/>
      <SimpleParameter symbId="K_out_FPG"/>
      <SimpleParameter symbId="E_max_FPG"/>
      <SimpleParameter symbId="pop_EC_50_FPG_F"/>
      <SimpleParameter symbId="pop_K_in_RBC_F"/>
      <SimpleParameter symbId="RBC_lifespan"/>
      <SimpleParameter symbId="K_glucose"/>
      <SimpleParameter symbId="pop_gamma"/>
      <SimpleParameter symbId="K_out_dilution"/>
      <SimpleParameter symbId="E_max_dilution"/>
      <SimpleParameter symbId="pop_EC_50_dilution"/>
      <SimpleParameter symbId="omega_FPG_baseline"/>
      <SimpleParameter symbId="omega_FPG_washout"/>
      <SimpleParameter symbId="omega_EC_50_FPG"/>
      <SimpleParameter symbId="omega_K_in_RBC"/>
      <SimpleParameter symbId="omega_gamma"/>
      <SimpleParameter symbId="omega_EC_50_dilution"/>
      <SimpleParameter symbId="beta_FPG_baseline"/>
      <SimpleParameter symbId="beta_FPG_washout"/>
      <SimpleParameter symbId="beta_EC_50_FPG"/>
      <SimpleParameter symbId="beta_K_in_RBC"/>
      <SimpleParameter symbId="K_in_FPG">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="times">
              <ct:SymbRef symbIdRef="K_out_FPG"/>
              <ct:SymbRef symbIdRef="FPG_baseline"/>
            </Binop>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="K_tr">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="divide">
              <ct:Int>4</ct:Int>
              <ct:SymbRef symbIdRef="RBC_lifespan"/>
            </Binop>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="kout">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="divide">
              <ct:SymbRef blkIdRef="cov" symbIdRef="CL"/>
              <ct:SymbRef blkIdRef="cov" symbIdRef="V"/>
            </Binop>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="non_RBC1_0">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="divide">
              <ct:SymbRef symbIdRef="K_in_RBC"/>
              <Binop op="plus">
                <ct:SymbRef symbIdRef="K_tr"/>
                <Binop op="times">
                  <ct:SymbRef symbIdRef="K_glucose"/>
                  <Binop op="power">
                    <ct:SymbRef symbIdRef="FPG_baseline"/>
                    <ct:SymbRef symbIdRef="gamma"/>
                  </Binop>
                </Binop>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="non_RBC2_0">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="divide">
              <Binop op="times">
                <ct:SymbRef symbIdRef="K_tr"/>
                <ct:SymbRef symbIdRef="non_RBC1_0"/>
              </Binop>
              <Binop op="plus">
                <ct:SymbRef symbIdRef="K_tr"/>
                <Binop op="times">
                  <ct:SymbRef symbIdRef="K_glucose"/>
                  <Binop op="power">
                    <ct:SymbRef symbIdRef="FPG_baseline"/>
                    <ct:SymbRef symbIdRef="gamma"/>
                  </Binop>
                </Binop>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="non_RBC3_0">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="divide">
              <Binop op="times">
                <ct:SymbRef symbIdRef="K_tr"/>
                <ct:SymbRef symbIdRef="non_RBC2_0"/>
              </Binop>
              <Binop op="plus">
                <ct:SymbRef symbIdRef="K_tr"/>
                <Binop op="times">
                  <ct:SymbRef symbIdRef="K_glucose"/>
                  <Binop op="power">
                    <ct:SymbRef symbIdRef="FPG_baseline"/>
                    <ct:SymbRef symbIdRef="gamma"/>
                  </Binop>
                </Binop>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="non_RBC4_0">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="divide">
              <Binop op="times">
                <ct:SymbRef symbIdRef="K_tr"/>
                <ct:SymbRef symbIdRef="non_RBC3_0"/>
              </Binop>
              <Binop op="plus">
                <ct:SymbRef symbIdRef="K_tr"/>
                <Binop op="times">
                  <ct:SymbRef symbIdRef="K_glucose"/>
                  <Binop op="power">
                    <ct:SymbRef symbIdRef="FPG_baseline"/>
                    <ct:SymbRef symbIdRef="gamma"/>
                  </Binop>
                </Binop>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="RBC1_0">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="divide">
              <Binop op="times">
                <Binop op="times">
                  <ct:SymbRef symbIdRef="K_glucose"/>
                  <Binop op="power">
                    <ct:SymbRef symbIdRef="FPG_baseline"/>
                    <ct:SymbRef symbIdRef="gamma"/>
                  </Binop>
                </Binop>
                <ct:SymbRef symbIdRef="non_RBC1_0"/>
              </Binop>
              <ct:SymbRef symbIdRef="K_tr"/>
            </Binop>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="RBC2_0">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="divide">
              <Binop op="plus">
                <Binop op="times">
                  <ct:SymbRef symbIdRef="K_tr"/>
                  <ct:SymbRef symbIdRef="RBC1_0"/>
                </Binop>
                <Binop op="times">
                  <Binop op="times">
                    <ct:SymbRef symbIdRef="K_glucose"/>
                    <Binop op="power">
                      <ct:SymbRef symbIdRef="FPG_baseline"/>
                      <ct:SymbRef symbIdRef="gamma"/>
                    </Binop>
                  </Binop>
                  <ct:SymbRef symbIdRef="non_RBC2_0"/>
                </Binop>
              </Binop>
              <ct:SymbRef symbIdRef="K_tr"/>
            </Binop>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="RBC3_0">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="divide">
              <Binop op="plus">
                <Binop op="times">
                  <ct:SymbRef symbIdRef="K_tr"/>
                  <ct:SymbRef symbIdRef="RBC2_0"/>
                </Binop>
                <Binop op="times">
                  <Binop op="times">
                    <ct:SymbRef symbIdRef="K_glucose"/>
                    <Binop op="power">
                      <ct:SymbRef symbIdRef="FPG_baseline"/>
                      <ct:SymbRef symbIdRef="gamma"/>
                    </Binop>
                  </Binop>
                  <ct:SymbRef symbIdRef="non_RBC3_0"/>
                </Binop>
              </Binop>
              <ct:SymbRef symbIdRef="K_tr"/>
            </Binop>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="RBC4_0">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="divide">
              <Binop op="plus">
                <Binop op="times">
                  <ct:SymbRef symbIdRef="K_tr"/>
                  <ct:SymbRef symbIdRef="RBC3_0"/>
                </Binop>
                <Binop op="times">
                  <Binop op="times">
                    <ct:SymbRef symbIdRef="K_glucose"/>
                    <Binop op="power">
                      <ct:SymbRef symbIdRef="FPG_baseline"/>
                      <ct:SymbRef symbIdRef="gamma"/>
                    </Binop>
                  </Binop>
                  <ct:SymbRef symbIdRef="non_RBC4_0"/>
                </Binop>
              </Binop>
              <ct:SymbRef symbIdRef="K_tr"/>
            </Binop>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="pop_FPG_baseline">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Piecewise>
              <Piece>
                <ct:SymbRef symbIdRef="pop_FPG_baseline_N"/>
                <Condition>
                  <LogicBinop op="eq">
                    <ct:SymbRef symbIdRef="treat" blkIdRef="cov"/>
                    <ct:Real>1</ct:Real>
                  </LogicBinop>
                </Condition>
              </Piece>
              <Piece>
                <Binop op="plus">
                  <ct:SymbRef symbIdRef="pop_FPG_baseline_N"/>
                  <ct:SymbRef symbIdRef="beta_FPG_baseline"/>
                </Binop>
                <Condition>
                  <Otherwise/>
                </Condition>
              </Piece>
            </Piecewise>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="pop_FPG_washout">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Piecewise>
              <Piece>
                <ct:SymbRef symbIdRef="pop_FPG_washout_N"/>
                <Condition>
                  <LogicBinop op="eq">
                    <ct:SymbRef symbIdRef="treat" blkIdRef="cov"/>
                    <ct:Real>1</ct:Real>
                  </LogicBinop>
                </Condition>
              </Piece>
              <Piece>
                <Binop op="plus">
                  <ct:SymbRef symbIdRef="pop_FPG_washout_N"/>
                  <ct:SymbRef symbIdRef="beta_FPG_washout"/>
                </Binop>
                <Condition>
                  <Otherwise/>
                </Condition>
              </Piece>
            </Piecewise>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="pop_K_in_RBC">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Piecewise>
              <Piece>
                <ct:SymbRef symbIdRef="pop_K_in_RBC_F"/>
                <Condition>
                  <LogicBinop op="eq">
                    <ct:SymbRef symbIdRef="sex" blkIdRef="cov"/>
                    <ct:Real>2</ct:Real>
                  </LogicBinop>
                </Condition>
              </Piece>
              <Piece>
                <Binop op="plus">
                  <ct:SymbRef symbIdRef="pop_K_in_RBC_F"/>
                  <ct:SymbRef symbIdRef="beta_K_in_RBC"/>
                </Binop>
                <Condition>
                  <Otherwise/>
                </Condition>
              </Piece>
            </Piecewise>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <SimpleParameter symbId="pop_EC_50_FPG">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Piecewise>
              <Piece>
                <ct:SymbRef symbIdRef="pop_EC_50_FPG_F"/>
                <Condition>
                  <LogicBinop op="eq">
                    <ct:SymbRef symbIdRef="sex" blkIdRef="cov"/>
                    <ct:Real>2</ct:Real>
                  </LogicBinop>
                </Condition>
              </Piece>
              <Piece>
                <Binop op="plus">
                  <ct:SymbRef symbIdRef="pop_EC_50_FPG_F"/>
                  <ct:SymbRef symbIdRef="beta_EC_50_FPG"/>
                </Binop>
                <Condition>
                  <Otherwise/>
                </Condition>
              </Piece>
            </Piecewise>
          </Equation>
        </ct:Assign>
      </SimpleParameter>
      <RandomVariable symbId="eta_FPG_baseline">
        <ct:VariabilityReference >
          <ct:SymbRef blkIdRef="model" symbIdRef="indiv"/>
        </ct:VariabilityReference>
        <NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
          <mean>
            <rVal>0</rVal>
          </mean>
          <variance>
            <var varId="omega_FPG_baseline"/>
          </variance>
        </NormalDistribution>
      </RandomVariable>
      <IndividualParameter symbId="FPG_baseline">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="times">
              <ct:SymbRef symbIdRef="pop_FPG_baseline"/>
              <Uniop op="exp">
                <ct:SymbRef symbIdRef="eta_FPG_baseline"/>
              </Uniop>
            </Binop>
          </Equation>
        </ct:Assign>
      </IndividualParameter>
      <RandomVariable symbId="eta_FPG_washout">
        <ct:VariabilityReference >
          <ct:SymbRef blkIdRef="model" symbIdRef="indiv"/>
        </ct:VariabilityReference>
        <NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
          <mean>
            <rVal>0</rVal>
          </mean>
          <variance>
            <var varId="omega_FPG_washout"/>
          </variance>
        </NormalDistribution>
      </RandomVariable>
      <IndividualParameter symbId="FPG_washout">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="times">
              <ct:SymbRef symbIdRef="pop_FPG_washout"/>
              <Uniop op="exp">
                <ct:SymbRef symbIdRef="eta_FPG_washout"/>
              </Uniop>
            </Binop>
          </Equation>
        </ct:Assign>
      </IndividualParameter>
      <RandomVariable symbId="eta_EC_50_FPG">
        <ct:VariabilityReference >
          <ct:SymbRef blkIdRef="model" symbIdRef="indiv"/>
        </ct:VariabilityReference>
        <NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
          <mean>
            <rVal>0</rVal>
          </mean>
          <variance>
            <var varId="omega_EC_50_FPG"/>
          </variance>
        </NormalDistribution>
      </RandomVariable>
      <IndividualParameter symbId="EC_50_FPG">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="times">
              <ct:SymbRef symbIdRef="pop_EC_50_FPG"/>
              <Uniop op="exp">
                <ct:SymbRef symbIdRef="eta_EC_50_FPG"/>
              </Uniop>
            </Binop>
          </Equation>
        </ct:Assign>
      </IndividualParameter>
      <RandomVariable symbId="eta_K_in_RBC">
        <ct:VariabilityReference >
          <ct:SymbRef blkIdRef="model" symbIdRef="indiv"/>
        </ct:VariabilityReference>
        <NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
          <mean>
            <rVal>0</rVal>
          </mean>
          <variance>
            <var varId="omega_K_in_RBC"/>
          </variance>
        </NormalDistribution>
      </RandomVariable>
      <IndividualParameter symbId="K_in_RBC">
        <ct:Assign >
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="times">
              <ct:SymbRef symbIdRef="pop_K_in_RBC"/>
              <Uniop op="exp">
                <ct:SymbRef symbIdRef="eta_K_in_RBC"/>
              </Uniop>
            </Binop>
          </Equation>
        </ct:Assign>
      </IndividualParameter>
      <RandomVariable symbId="eta_gamma">
        <ct:VariabilityReference >
          <ct:SymbRef blkIdRef="model" symbIdRef="indiv"/>
        </ct:VariabilityReference>
        <NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
          <mean>
            <rVal>0</rVal>
          </mean>
          <variance>
            <var varId="omega_gamma"/>
          </variance>
        </NormalDistribution>
      </RandomVariable>
      <IndividualParameter symbId="gamma">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="times">
              <ct:SymbRef symbIdRef="pop_gamma"/>
              <Uniop op="exp">
                <ct:SymbRef symbIdRef="eta_gamma"/>
              </Uniop>
            </Binop>
          </Equation>
        </ct:Assign>
      </IndividualParameter>
      <RandomVariable symbId="eta_EC_50_dilution">
        <ct:VariabilityReference >
          <ct:SymbRef blkIdRef="model" symbIdRef="indiv"/>
        </ct:VariabilityReference>
        <NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
          <mean>
            <rVal>0</rVal>
          </mean>
          <variance>
            <var varId="omega_EC_50_dilution"/>
          </variance>
        </NormalDistribution>
      </RandomVariable>
      <IndividualParameter symbId="EC_50_dilution">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="times">
              <ct:SymbRef symbIdRef="pop_EC_50_dilution"/>
                <Uniop op="exp">
                  <ct:SymbRef symbIdRef="eta_EC_50_dilution"/>
                </Uniop>
            </Binop>
          </Equation>
        </ct:Assign>
      </IndividualParameter>
    </ParameterModel>
    <StructuralModel blkId="sm1">
      <ct:DerivativeVariable  symbId="QP" symbolType="real" compartmentNo="1">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Uniop op="minus">
              <Binop op="times">
                <ct:SymbRef blkIdRef="pm1" symbIdRef="kout"/>
                <ct:SymbRef symbIdRef="QP"/>
              </Binop>
            </Uniop>
          </Equation>
        </ct:Assign>
        <ct:IndependentVariable>
          <ct:SymbRef symbIdRef="t"/>
        </ct:IndependentVariable>
        <ct:InitialCondition>
          <ct:InitialValue>
            <ct:Assign>
              <ct:Real>0</ct:Real>
            </ct:Assign>
          </ct:InitialValue>
        </ct:InitialCondition>
      </ct:DerivativeVariable>
      <ct:Variable  symbolType="real" symbId="CP">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="divide">
              <ct:SymbRef symbIdRef="QP"/>
              <ct:SymbRef blkIdRef="cov" symbIdRef="V"/>
            </Binop>
          </Equation>
        </ct:Assign>
      </ct:Variable>
      <ct:DerivativeVariable  symbId="FPG" symbolType="real" compartmentNo="2">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="minus">
              <Binop op="times">
                <ct:SymbRef blkIdRef="pm1" symbIdRef="K_in_FPG"/>
                <Binop op="plus">
                  <ct:Int>1</ct:Int>
                  <ct:SymbRef blkIdRef="pm1" symbIdRef="FPG_washout"/>
                </Binop>
              </Binop>
              <Binop op="times">
                <ct:SymbRef blkIdRef="pm1" symbIdRef="K_out_FPG"/>
                <Binop op="times">
                  <Binop op="plus">
                    <ct:Int>1</ct:Int>
                    <Binop op="divide">
                      <Binop op="times">
                        <ct:SymbRef blkIdRef="pm1" symbIdRef="E_max_FPG"/>
                        <ct:SymbRef symbIdRef="CP"/>
                      </Binop>
                      <Binop op="plus">
                        <ct:SymbRef blkIdRef="pm1" symbIdRef="EC_50_FPG"/>
                        <ct:SymbRef symbIdRef="CP"/>
                      </Binop>
                    </Binop>
                  </Binop>
                  <ct:SymbRef symbIdRef="FPG"/>
                </Binop>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
        <ct:IndependentVariable>
          <ct:SymbRef symbIdRef="t"/>
        </ct:IndependentVariable>
        <ct:InitialCondition>
          <ct:InitialValue>
            <ct:Assign><ct:SymbRef blkIdRef="pm1" symbIdRef="FPG_baseline"/></ct:Assign>
          </ct:InitialValue>
        </ct:InitialCondition>
      </ct:DerivativeVariable>
      <ct:DerivativeVariable  symbId="non_RBC1" symbolType="real" compartmentNo="3">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="minus">
              <ct:SymbRef blkIdRef="pm1" symbIdRef="K_in_RBC"/>
              <Binop op="times">
                <Binop op="plus">
                  <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                  <Binop op="times">
                    <ct:SymbRef blkIdRef="pm1" symbIdRef="K_glucose"/>
                    <Binop op="power">
                      <ct:SymbRef symbIdRef="FPG"/>
                      <ct:SymbRef blkIdRef="pm1" symbIdRef="gamma"/>
                    </Binop>
                  </Binop>
                </Binop>
                <ct:SymbRef symbIdRef="non_RBC1"/>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
        <ct:IndependentVariable>
          <ct:SymbRef symbIdRef="t"/>
        </ct:IndependentVariable>
        <ct:InitialCondition>
          <ct:InitialValue>
            <ct:Assign>
              <ct:SymbRef blkIdRef="pm1" symbIdRef="non_RBC1_0"/>
            </ct:Assign>
          </ct:InitialValue>
        </ct:InitialCondition>
      </ct:DerivativeVariable>
      <ct:DerivativeVariable  symbId="non_RBC2" symbolType="real" compartmentNo="4">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="minus">
              <Binop op="times">
                <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                <ct:SymbRef symbIdRef="non_RBC1"/>
              </Binop>
              <Binop op="times">
                <Binop op="plus">
                  <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                  <Binop op="times">
                    <ct:SymbRef blkIdRef="pm1" symbIdRef="K_glucose"/>
                    <Binop op="power">
                      <ct:SymbRef symbIdRef="FPG"/>
                      <ct:SymbRef blkIdRef="pm1" symbIdRef="gamma"/>
                    </Binop>
                  </Binop>
                </Binop>
                <ct:SymbRef symbIdRef="non_RBC2"/>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
        <ct:IndependentVariable>
          <ct:SymbRef symbIdRef="t"/>
        </ct:IndependentVariable>
        <ct:InitialCondition>
            <ct:InitialValue>
              <ct:Assign> <ct:SymbRef blkIdRef="pm1" symbIdRef="non_RBC2_0"/></ct:Assign>
            </ct:InitialValue>
        </ct:InitialCondition>
      </ct:DerivativeVariable>
      <ct:DerivativeVariable  symbId="non_RBC3" symbolType="real" compartmentNo="5">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="minus">
              <Binop op="times">
                <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                <ct:SymbRef symbIdRef="non_RBC2"/>
              </Binop>
              <Binop op="times">
                <Binop op="plus">
                  <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                  <Binop op="times">
                    <ct:SymbRef blkIdRef="pm1" symbIdRef="K_glucose"/>
                    <Binop op="power">
                      <ct:SymbRef symbIdRef="FPG"/>
                      <ct:SymbRef blkIdRef="pm1" symbIdRef="gamma"/>
                    </Binop>
                  </Binop>
                </Binop>
                <ct:SymbRef symbIdRef="non_RBC3"/>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
        <ct:IndependentVariable>
          <ct:SymbRef symbIdRef="t"/>
        </ct:IndependentVariable>
        <ct:InitialCondition>
          <ct:InitialValue>
            <ct:Assign><ct:SymbRef blkIdRef="pm1" symbIdRef="non_RBC3_0"/></ct:Assign>
          </ct:InitialValue>
        </ct:InitialCondition>
      </ct:DerivativeVariable>
      <ct:DerivativeVariable  symbId="non_RBC4" symbolType="real" compartmentNo="6">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="minus">
              <Binop op="times">
                <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                <ct:SymbRef symbIdRef="non_RBC3"/>
              </Binop>
              <Binop op="times">
                <Binop op="plus">
                  <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                  <Binop op="times">
                    <ct:SymbRef blkIdRef="pm1" symbIdRef="K_glucose"/>
                    <Binop op="power">
                      <ct:SymbRef symbIdRef="FPG"/>
                      <ct:SymbRef blkIdRef="pm1" symbIdRef="gamma"/>
                    </Binop>
                  </Binop>
                </Binop>
                <ct:SymbRef symbIdRef="non_RBC4"/>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
        <ct:IndependentVariable>
          <ct:SymbRef symbIdRef="t"/>
        </ct:IndependentVariable>
        <ct:InitialCondition>
          <ct:InitialValue>
            <ct:Assign><ct:SymbRef blkIdRef="pm1" symbIdRef="non_RBC4_0"/></ct:Assign>
          </ct:InitialValue>
        </ct:InitialCondition>
      </ct:DerivativeVariable>
      <ct:DerivativeVariable  symbId="RBC1" symbolType="real" compartmentNo="7">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="minus">
              <Binop op="times">
                <Binop op="times">
                  <ct:SymbRef blkIdRef="pm1" symbIdRef="K_glucose"/>
                  <Binop op="power">
                    <ct:SymbRef symbIdRef="FPG"/>
                    <ct:SymbRef blkIdRef="pm1" symbIdRef="gamma"/>
                  </Binop>
                </Binop>
                <ct:SymbRef symbIdRef="non_RBC1"/>
              </Binop>
              <Binop op="times">
                <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                <ct:SymbRef symbIdRef="RBC1"/>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
        <ct:IndependentVariable>
          <ct:SymbRef symbIdRef="t"/>
        </ct:IndependentVariable>
        <ct:InitialCondition>
          <ct:InitialValue>
            <ct:Assign><ct:SymbRef blkIdRef="pm1" symbIdRef="RBC1_0"/></ct:Assign>
          </ct:InitialValue>
        </ct:InitialCondition>
      </ct:DerivativeVariable>
      <ct:DerivativeVariable  symbId="RBC2" symbolType="real" compartmentNo="8">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="plus">
              <Binop op="minus">
                <Binop op="times">
                  <Binop op="times">
                    <ct:SymbRef blkIdRef="pm1" symbIdRef="K_glucose"/>
                    <Binop op="power">
                      <ct:SymbRef symbIdRef="FPG"/>
                      <ct:SymbRef blkIdRef="pm1" symbIdRef="gamma"/>
                    </Binop>
                  </Binop>
                  <ct:SymbRef symbIdRef="non_RBC2"/>
                </Binop>
                <Binop op="times">
                  <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                  <ct:SymbRef symbIdRef="RBC2"/>
                </Binop>
              </Binop>
              <Binop op="times">
                <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                <ct:SymbRef symbIdRef="RBC1"/>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
        <ct:IndependentVariable>
          <ct:SymbRef symbIdRef="t"/>
        </ct:IndependentVariable>
        <ct:InitialCondition>
          <ct:InitialValue>
            <ct:Assign><ct:SymbRef blkIdRef="pm1" symbIdRef="RBC2_0"/></ct:Assign>
          </ct:InitialValue>
        </ct:InitialCondition>
      </ct:DerivativeVariable>
      <ct:DerivativeVariable  symbId="RBC3" symbolType="real" compartmentNo="9">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="plus">
              <Binop op="minus">
                <Binop op="times">
                  <Binop op="times">
                    <ct:SymbRef blkIdRef="pm1" symbIdRef="K_glucose"/>
                    <Binop op="power">
                      <ct:SymbRef symbIdRef="FPG"/>
                      <ct:SymbRef blkIdRef="pm1" symbIdRef="gamma"/>
                    </Binop>
                  </Binop>
                  <ct:SymbRef symbIdRef="non_RBC3"/>
                </Binop>
                <Binop op="times">
                  <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                  <ct:SymbRef symbIdRef="RBC3"/>
                </Binop>
              </Binop>
              <Binop op="times">
                <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                <ct:SymbRef symbIdRef="RBC2"/>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
        <ct:IndependentVariable>
          <ct:SymbRef symbIdRef="t"/>
        </ct:IndependentVariable>
        <ct:InitialCondition>
          <ct:InitialValue>
            <ct:Assign><ct:SymbRef blkIdRef="pm1" symbIdRef="RBC3_0"/></ct:Assign>
          </ct:InitialValue>
        </ct:InitialCondition>
      </ct:DerivativeVariable>
      <ct:DerivativeVariable  symbId="RBC4" symbolType="real" compartmentNo="10">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="plus">
              <Binop op="minus">
                <Binop op="times">
                  <Binop op="times">
                    <ct:SymbRef blkIdRef="pm1" symbIdRef="K_glucose"/>
                    <Binop op="power">
                      <ct:SymbRef symbIdRef="FPG"/>
                      <ct:SymbRef blkIdRef="pm1" symbIdRef="gamma"/>
                    </Binop>
                  </Binop>
                  <ct:SymbRef symbIdRef="non_RBC4"/>
                </Binop>
                <Binop op="times">
                  <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                  <ct:SymbRef symbIdRef="RBC4"/>
                </Binop>
              </Binop>
              <Binop op="times">
                <ct:SymbRef blkIdRef="pm1" symbIdRef="K_tr"/>
                <ct:SymbRef symbIdRef="RBC3"/>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
        <ct:IndependentVariable>
          <ct:SymbRef symbIdRef="t"/>
        </ct:IndependentVariable>
        <ct:InitialCondition>
          <ct:InitialValue>
            <ct:Assign><ct:SymbRef blkIdRef="pm1" symbIdRef="RBC4_0"/></ct:Assign>
          </ct:InitialValue>
        </ct:InitialCondition>
      </ct:DerivativeVariable>
      <ct:DerivativeVariable  symbId="VHb" symbolType="real" compartmentNo="11">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="times">
              <ct:SymbRef blkIdRef="pm1" symbIdRef="K_out_dilution"/>
              <Binop op="plus">
                <ct:Int>1</ct:Int>
                <Binop op="minus">
                  <Binop op="divide">
                    <Binop op="times">
                      <ct:SymbRef blkIdRef="pm1" symbIdRef="E_max_dilution"/>
                      <ct:SymbRef symbIdRef="CP"/>
                    </Binop>
                    <Binop op="plus">
                      <ct:SymbRef blkIdRef="pm1" symbIdRef="EC_50_dilution"/>
                      <ct:SymbRef symbIdRef="CP"/>
                    </Binop>
                  </Binop>
                  <ct:SymbRef symbIdRef="VHb"/>
                </Binop>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
        <ct:IndependentVariable>
          <ct:SymbRef symbIdRef="t"/>
        </ct:IndependentVariable>
        <ct:InitialCondition>
          <ct:InitialValue>
            <ct:Assign><ct:Real>1</ct:Real></ct:Assign>
          </ct:InitialValue>
        </ct:InitialCondition>
      </ct:DerivativeVariable>
      <ct:Variable  symbolType="real" symbId="TotRBC">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="plus">
              <ct:SymbRef symbIdRef="non_RBC1"/>
              <Binop op="plus">
                <ct:SymbRef symbIdRef="non_RBC2"/>
                <Binop op="plus">
                  <ct:SymbRef symbIdRef="non_RBC3"/>
                  <Binop op="plus">
                    <ct:SymbRef symbIdRef="non_RBC4"/>
                    <Binop op="plus">
                      <ct:SymbRef symbIdRef="RBC1"/>
                      <Binop op="plus">
                        <ct:SymbRef symbIdRef="RBC2"/>
                        <Binop op="plus">
                          <ct:SymbRef symbIdRef="RBC3"/>
                          <ct:SymbRef symbIdRef="RBC4"/>
                        </Binop>
                      </Binop>
                    </Binop>
                  </Binop>
                </Binop>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
      </ct:Variable>
      <ct:Variable  symbolType="real" symbId="glyRBC">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="plus">
              <ct:SymbRef symbIdRef="RBC1"/>
              <Binop op="plus">
                <ct:SymbRef symbIdRef="RBC2"/>
                <Binop op="plus">
                  <ct:SymbRef symbIdRef="RBC3"/>
                  <ct:SymbRef symbIdRef="RBC4"/>
                </Binop>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
      </ct:Variable>
      <ct:Variable  symbolType="real" symbId="HBA1C">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="times">
              <ct:Int>100</ct:Int>
              <Binop op="divide">
                <ct:SymbRef symbIdRef="glyRBC"/>
                <ct:SymbRef symbIdRef="totRBC"/>
              </Binop>
            </Binop>
          </Equation>
        </ct:Assign>
      </ct:Variable>
      <ct:Variable  symbolType="real" symbId="HB">
        <ct:Assign>
          <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
            <Binop op="divide">
              <ct:SymbRef symbIdRef="totRBC"/>
              <ct:SymbRef symbIdRef="VHb"/>
            </Binop>
          </Equation>
        </ct:Assign>
      </ct:Variable>
    </StructuralModel>
    
    <ObservationModel blkId="obs_HBA1C">
      <Continuous>
        <SimpleParameter symbId="pop_res_HBA1C"/>
        <SimpleParameter symbId="omega_res_HBA1C"/>
        <SimpleParameter symbId="sigma_res_HBA1C"/>
        <RandomVariable symbId="eta_res_HBA1C">
          <ct:VariabilityReference >
            <ct:SymbRef blkIdRef="model" symbIdRef="indiv"/>
          </ct:VariabilityReference>
          <NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
            <mean>
              <rVal>0</rVal>
            </mean>
            <variance>
              <var varId="omega_res_HBA1C"/>
            </variance>
          </NormalDistribution>
        </RandomVariable>
        <IndividualParameter symbId="res_HBA1C">
          <ct:Assign>
            <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
              <Binop op="times">
                <ct:SymbRef symbIdRef="pop_res_HBA1C"/>
                <Uniop op="exp"><ct:SymbRef  symbIdRef="eta_res_HBA1C"/></Uniop>
              </Binop>
            </Equation>
          </ct:Assign>
        </IndividualParameter>
        <RandomVariable symbId="eps_HBA1C">
          <ct:VariabilityReference >
            <ct:SymbRef blkIdRef="obsErr" symbIdRef="residual"/>
          </ct:VariabilityReference>
          <NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="">
            <mean>
              <rVal>0</rVal>
            </mean>
            <variance>
              <var varId="sigma_res_HBA1C"/>
            </variance>
          </NormalDistribution>
        </RandomVariable>
        <General symbId="Y1">
          <ct:Assign>
            <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
              <Binop op="plus">
                <Uniop op="log"><ct:SymbRef  blkIdRef="sm1" symbIdRef="HBA1C"/></Uniop>
                <Binop op="times">
                  <FunctionCall>
                    <ct:SymbRef symbIdRef="constantErrorModel"/>
                    <FunctionArgument symbId="a">
                      <ct:SymbRef symbIdRef="res_HBA1C"/>
                    </FunctionArgument>
                  </FunctionCall>
                  <ct:SymbRef  symbIdRef="eps_HBA1C"/>
                </Binop>
              </Binop>
            </Equation>
          </ct:Assign>
        </General>
      </Continuous>
    </ObservationModel>
    <ObservationModel blkId="obs_FPG">
      <Continuous>
        <SimpleParameter symbId="pop_res_FPG"/>
        <SimpleParameter symbId="omega_res_FPG"/>
        <SimpleParameter symbId="sigma_res_FPG"/>
        <RandomVariable symbId="eta_res_FPG">
          <ct:VariabilityReference >
            <ct:SymbRef blkIdRef="model" symbIdRef="indiv"/>
          </ct:VariabilityReference>
          <NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
            <mean>
              <rVal>0</rVal>
            </mean>
            <variance>
              <var varId="omega_res_FPG"/>
            </variance>
          </NormalDistribution>
        </RandomVariable>
        <IndividualParameter symbId="res_FPG">
          <ct:Assign>
            <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
              <Binop op="times">
                <ct:SymbRef symbIdRef="pop_res_FPG"/>
                <Uniop op="exp"><ct:SymbRef  symbIdRef="eta_res_FPG"/></Uniop>
              </Binop>
            </Equation>
          </ct:Assign>
        </IndividualParameter>
        <RandomVariable symbId="eps_FPG">
          <ct:VariabilityReference >
            <ct:SymbRef blkIdRef="obsErr" symbIdRef="residual"/>
          </ct:VariabilityReference>
          <NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="">
            <mean>
              <rVal>0</rVal>
            </mean>
            <variance>
              <var varId="sigma_res_FPG"/>
            </variance>
          </NormalDistribution>
        </RandomVariable>
        <General symbId="Y2">
          <ct:Assign>
            <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
              <Binop op="plus">
                <Uniop op="log"><ct:SymbRef  blkIdRef="sm1" symbIdRef="FPG"/></Uniop>
                <Binop op="times">
                  <FunctionCall>
                    <ct:SymbRef symbIdRef="constantErrorModel"/>
                    <FunctionArgument symbId="a">
                      <ct:SymbRef symbIdRef="res_FPG"/>
                    </FunctionArgument>
                  </FunctionCall>
                  <ct:SymbRef  symbIdRef="eps_FPG"/>
                </Binop>
              </Binop>
            </Equation>
          </ct:Assign>
        </General>      
      </Continuous>
    </ObservationModel>

    <ObservationModel blkId="obs_HB">
      <Continuous>
        <SimpleParameter symbId="pop_res_HB"/>
        <SimpleParameter symbId="omega_res_HB"/>
        <SimpleParameter symbId="sigma_res_HB"/>
        <RandomVariable symbId="eta_res_HB">
          <ct:VariabilityReference >
            <ct:SymbRef blkIdRef="model" symbIdRef="indiv"/>
          </ct:VariabilityReference>
          <NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
            <mean>
              <rVal>0</rVal>
            </mean>
            <variance>
              <var varId="omega_res_HB"/>
            </variance>
          </NormalDistribution>
        </RandomVariable>
        <IndividualParameter symbId="res_HB">
          <ct:Assign>
            <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
              <Binop op="times">
                <ct:SymbRef symbIdRef="pop_res_HB"/>
                <Uniop op="exp"><ct:SymbRef  symbIdRef="eta_res_HB"/></Uniop>
              </Binop>
            </Equation>
          </ct:Assign>
        </IndividualParameter>
        <RandomVariable symbId="eps_HB">
          <ct:VariabilityReference >
            <ct:SymbRef blkIdRef="obsErr" symbIdRef="residual"/>
          </ct:VariabilityReference>
          <NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="">
            <mean>
              <rVal>0</rVal>
            </mean>
            <variance>
              <var varId="sigma_res_HB"/>
            </variance>
          </NormalDistribution>
        </RandomVariable>
        <General symbId="Y3">
          <ct:Assign>
            <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
              <Binop op="plus">
                <Uniop op="log">
                  <ct:SymbRef symbIdRef="HB" blkIdRef="sm1"/>
                </Uniop>
                <Binop op="times">
                  <FunctionCall>
                    <ct:SymbRef symbIdRef="constantErrorModel"/>
                    <FunctionArgument symbId="a">
                      <ct:SymbRef symbIdRef="res_HB"/>
                    </FunctionArgument>
                  </FunctionCall>
                  <ct:SymbRef symbIdRef="eps_HB"/>
                </Binop>
              </Binop>
            </Equation>
          </ct:Assign>
        </General>
      </Continuous>
  </ObservationModel>

  </ModelDefinition>
  <ModellingSteps xmlns="http://www.pharmml.org/2013/03/ModellingSteps">
    <NONMEMdataSet oid="NMoid">
      <ColumnMapping>
        <ColumnRef xmlns="http://www.pharmml.org/2013/08/Dataset" columnIdRef="TIME"/>
        <ct:SymbRef symbIdRef="t"/>
      </ColumnMapping>
      <ColumnMapping>
        <ColumnRef xmlns="http://www.pharmml.org/2013/08/Dataset" columnIdRef="CLI"/>
        <ct:SymbRef symbIdRef="CL" blkIdRef="cov"/>
      </ColumnMapping>
      <ColumnMapping>
        <ColumnRef xmlns="http://www.pharmml.org/2013/08/Dataset" columnIdRef="VI"/>
        <ct:SymbRef symbIdRef="V" blkIdRef="cov"/>
      </ColumnMapping>
      <ColumnMapping>
        <ColumnRef xmlns="http://www.pharmml.org/2013/08/Dataset" columnIdRef="SEX"/>
        <ct:SymbRef symbIdRef="sex" blkIdRef="cov"/>
      </ColumnMapping>      
      <ColumnMapping>
        <ColumnRef xmlns="http://www.pharmml.org/2013/08/Dataset" columnIdRef="TREAT"/>
        <ct:SymbRef symbIdRef="treat" blkIdRef="cov"/>
      </ColumnMapping>     
      <MultipleDVMapping>
        <ColumnRef xmlns="http://www.pharmml.org/2013/08/Dataset" columnIdRef="DV"/>
        <Piecewise>
          <Piece xmlns="http://www.pharmml.org/2013/03/Maths">
            <ct:SymbRef symbIdRef="Y1" blkIdRef="obs_HBA1C"/>
            <Condition>
              <LogicBinop op="eq">
                <ColumnRef xmlns="http://www.pharmml.org/2013/08/Dataset" columnIdRef="ORIG"/>
                <ct:Real>1</ct:Real>
              </LogicBinop>
            </Condition>
          </Piece>
          <Piece xmlns="http://www.pharmml.org/2013/03/Maths">
            <ct:SymbRef symbIdRef="Y2" blkIdRef="obs_FPG"/>
            <Condition>
              <LogicBinop op="eq">                
                <ColumnRef xmlns="http://www.pharmml.org/2013/08/Dataset" columnIdRef="ORIG"/>
                <ct:Real>2</ct:Real>
              </LogicBinop>
            </Condition>
          </Piece>
          <Piece xmlns="http://www.pharmml.org/2013/03/Maths">
            <ct:SymbRef symbIdRef="Y3" blkIdRef="obs_HB"/>
            <Condition>
              <LogicBinop op="eq">                
                <ColumnRef xmlns="http://www.pharmml.org/2013/08/Dataset" columnIdRef="ORIG"/>
                <ct:Real>3</ct:Real>
              </LogicBinop>
            </Condition>
          </Piece>
        </Piecewise>
      </MultipleDVMapping>
      
      <DataSet xmlns="http://www.pharmml.org/2013/08/Dataset">
        <Definition>
          <Column columnId="ID" columnType="id" valueType="id" columnNum="1"/>
          <Column columnId="TIME" columnType="time" valueType="real" columnNum="2"/>
          <Column columnId="DV" columnType="dv" valueType="real" columnNum="3"/>
          <Column columnId="AMT" columnType="dose" valueType="real" columnNum="4"/>
          <Column columnId="RATE" columnType="rate" valueType="real" columnNum="5"/>
          <Column columnId="CMT" columnType="cmt" valueType="real" columnNum="6"/>
          <Column columnId="CL" columnType="covariate" valueType="real" columnNum="7"/>
          <Column columnId="V" columnType="covariate" valueType="real" columnNum="8"/>
          <Column columnId="SEX" columnType="covariate" valueType="real" columnNum="9"/>
          <Column columnId="TREAT" columnType="covariate" valueType="real" columnNum="10"/>
          <Column columnId="ORIG" columnType="dvid" valueType="real" columnNum="11"/>
          <Column columnId="EVID" columnType="evid" valueType="real" columnNum="12"/>
        </Definition>
        <ImportData oid="id1">
          <path>hamren_2008data_DAY.csv</path>
          <format>CSV</format>
          <delimiter>COMMA</delimiter>
        </ImportData>
      </DataSet>
    </NONMEMdataSet>
    
    <EstimationStep oid="est1">
      <NONMEMdataSetReference>
        <ct:OidRef oidRef="NMoid"></ct:OidRef>
      </NONMEMdataSetReference>
      <ParametersToEstimate>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="pop_FPG_baseline_N"/>
          <InitialEstimate fixed="false">
            <ct:Real >8.72</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >6</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >10</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef symbIdRef="pop_FPG_washout_N"/>
          <InitialEstimate fixed="true">
            <ct:Real>0</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="beta_FPG_baseline"/>
          <InitialEstimate fixed="false">
            <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
              <Uniop op="minus">
                <ct:Real >0.52</ct:Real>
              </Uniop>
            </Equation>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="beta_FPG_washout"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.164</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0.01</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >1</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="K_out_FPG"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.0367</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0.0001</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >0.1</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="E_max_FPG"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.698</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0.4</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >0.99</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="pop_EC_50_FPG_F"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.88</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0.2</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >4</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="beta_EC_50_FPG"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.6</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0</ct:Real>
          </LowerBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="pop_K_in_RBC_F"/>
          <InitialEstimate fixed="false">
            <ct:Real >1.02</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0.1</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >2</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="beta_K_in_RBC"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.09</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0</ct:Real>
          </LowerBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="RBC_lifespan"/>
          <InitialEstimate fixed="false">
            <ct:Real >135</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >1</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >333</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="K_glucose"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.000181</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0</ct:Real>
          </LowerBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="pop_gamma"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.743</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0.4</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >1.5</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="K_out_dilution"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.0305</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0</ct:Real>
          </LowerBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="E_max_dilution"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.682</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >1</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="pop_EC_50_dilution"/>
          <InitialEstimate fixed="false">
            <ct:Real >8.25</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0.01</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >20</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="omega_FPG_baseline"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.0196</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="omega_FPG_washout"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.64</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="omega_EC_50_FPG"/>
          <InitialEstimate fixed="false">
            <ct:Real >1.21</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="omega_K_in_RBC"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.005</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="omega_gamma"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.0035</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="pm1" symbIdRef="omega_EC_50_dilution"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.31</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="obs_FPG" symbIdRef="pop_res_FPG"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.0964</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0.01</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >0.2</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="obs_HBA1C" symbIdRef="pop_res_HBA1C"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.0495</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >0.1</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="obs_HB" symbIdRef="pop_res_HB"/>
          <InitialEstimate fixed="false">
            <ct:Real >0.0298</ct:Real>
          </InitialEstimate>
          <LowerBound>
            <ct:Real >0</ct:Real>
          </LowerBound>
          <UpperBound>
            <ct:Real >0.1</ct:Real>
          </UpperBound>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="obs_FPG" symbIdRef="omega_res_FPG"/>
          <InitialEstimate fixed="false">
            <ct:Real>0.13</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="obs_FPG" symbIdRef="sigma_res_FPG"/>
          <InitialEstimate fixed="true">
            <ct:Real>1</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="obs_HBA1C" symbIdRef="omega_res_HBA1C"/>
          <InitialEstimate fixed="false">
            <ct:Real>0.068</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="obs_HBA1C" symbIdRef="sigma_res_HBA1C"/>
          <InitialEstimate fixed="true">
            <ct:Real>1</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="obs_HB" symbIdRef="omega_res_HB"/>
          <InitialEstimate fixed="false">
            <ct:Real>0.029</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
        <ParameterEstimation>
          <ct:SymbRef  blkIdRef="obs_HB" symbIdRef="sigma_res_HB"/>
          <InitialEstimate fixed="true">
            <ct:Real>1</ct:Real>
          </InitialEstimate>
        </ParameterEstimation>
      </ParametersToEstimate>
      <Operation order="1" opType="estPop"/>
      <Operation order="2" opType="estIndiv"/>
      <Operation order="3" opType="estFIM"/>
    </EstimationStep>
    <SimulationStep oid="sim1">
      <NONMEMdataSetReference>
        <ct:OidRef oidRef="NMoid"></ct:OidRef>
      </NONMEMdataSetReference>
  
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="pop_FPG_baseline_N"/>
        <ct:Assign>
            <ct:Real >8.72</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
          <ct:SymbRef symbIdRef="pop_FPG_washout_N"/>
        <ct:Assign>
            <ct:Real>0</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="beta_FPG_baseline"/>
        <ct:Assign>
            <Equation xmlns="http://www.pharmml.org/2013/03/Maths">
              <Uniop op="minus">
                <ct:Real >0.52</ct:Real>
              </Uniop>
            </Equation>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="beta_FPG_washout"/>
        <ct:Assign>
            <ct:Real >0.164</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="K_out_FPG"/>
        <ct:Assign>
            <ct:Real >0.0367</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="E_max_FPG"/>
        <ct:Assign>
            <ct:Real >0.698</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="pop_EC_50_FPG_F"/>
        <ct:Assign>
            <ct:Real >0.88</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="beta_EC_50_FPG"/>
        <ct:Assign>
            <ct:Real >0.6</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="pop_K_in_RBC_F"/>
        <ct:Assign>
            <ct:Real >1.02</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="beta_K_in_RBC"/>
        <ct:Assign>
            <ct:Real >0.09</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="RBC_lifespan"/>
        <ct:Assign>
            <ct:Real >135</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="K_glucose"/>
        <ct:Assign>
            <ct:Real >0.000181</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="pop_gamma"/>
        <ct:Assign>
            <ct:Real >0.743</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="K_out_dilution"/>
        <ct:Assign>
            <ct:Real >0.0305</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="E_max_dilution"/>
        <ct:Assign>
            <ct:Real >0.682</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="pop_EC_50_dilution"/>
        <ct:Assign>
            <ct:Real >8.25</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="omega_FPG_baseline"/>
        <ct:Assign>
            <ct:Real >0.0196</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="omega_FPG_washout"/>
        <ct:Assign>
            <ct:Real >0.64</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="omega_EC_50_FPG"/>
        <ct:Assign>
            <ct:Real >1.21</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="omega_K_in_RBC"/>
        <ct:Assign>
            <ct:Real >0.005</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="omega_gamma"/>
        <ct:Assign>
            <ct:Real >0.0035</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="pm1" symbIdRef="omega_EC_50_dilution"/>
        <ct:Assign>
            <ct:Real >0.31</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="obs_FPG" symbIdRef="pop_res_FPG"/>
        <ct:Assign>
            <ct:Real >0.0964</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="obs_HBA1C" symbIdRef="pop_res_HBA1C"/>
        <ct:Assign>
          <ct:Real >0.0495</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="obs_HB" symbIdRef="pop_res_HB"/>
        <ct:Assign>
          <ct:Real >0.0298</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="obs_FPG" symbIdRef="omega_res_FPG"/>
        <ct:Assign>
            <ct:Real >0.13</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="obs_HBA1C" symbIdRef="omega_res_HBA1C"/>
        <ct:Assign>
          <ct:Real >0.068</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="obs_HB" symbIdRef="omega_res_HB"/>
        <ct:Assign>
          <ct:Real >0.029</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="obs_FPG" symbIdRef="sigma_res_FPG"/>
        <ct:Assign>
          <ct:Real >1</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="obs_HBA1C" symbIdRef="sigma_res_HBA1C"/>
        <ct:Assign>
          <ct:Real >1</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
      <ct:VariableAssignment>
        <ct:SymbRef blkIdRef="obs_HB" symbIdRef="sigma_res_HB"/>
        <ct:Assign>
          <ct:Real >1</ct:Real>
        </ct:Assign>
      </ct:VariableAssignment>
    </SimulationStep>
    <StepDependencies>
      <Step>
        <ct:OidRef  oidRef="est1"/>
      </Step>
      <Step>
        <ct:OidRef oidRef="sim1"/>
      </Step>
    </StepDependencies>
  </ModellingSteps>
</PharmML>
